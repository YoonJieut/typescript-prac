<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
     * 서버 vs 클라이언트의 관계에서 요청과 응답을 하는 방법과 다르게
     * 클라이언트가 다른 서버에 요청을 보내고 응답을 받는 방법이 AJAX 기술 중 핵심이다.
     * 
     * 내가 가동하지 않는 임의의 서버인 특정 주소 'https://pokeapi.co/api/v2/pokemon/' 에
     * 요청을 보내고 응답을 받아서 처리하는 것이다.
     * 
     * 문서"가" 요청을 보내는 것
     * 
     * 따라서 상태 코드도 동일하게 적용된다.
     * new XMLHttpRequest() 라는 인스턴트 안에는 각종 문서가 통신을 위해 필요한 기능과 정보들이 담겨 있다.
    */
    console.log("잘 작동 중입니다.")
    const getPokemonAJAX = () => {
      const xhr = new XMLHttpRequest();
      console.dir("데이터 받기전 조회 : ", xhr);
      xhr.open('GET', 'https://pokeapi.co/api/v2/pokemon/', true);
      xhr.addEventListener('load', () => {
        console.log('load 이벤트 발생');
        if (xhr.status === 200) {
          console.log("데이터 받은 후 조회 : ");
          console.dir(xhr);
          console.log(xhr.responseText); // 응답 데이터를 가져옵니다.
          }
      });
      xhr.send();
    }
    getPokemonAJAX();
  </script>
</body>
</html>